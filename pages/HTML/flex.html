<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>rem布局 | youngqluol&#39;s blogs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-blogs/logo.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/frontend-blogs/assets/css/0.styles.09184f4e.css" as="style"><link rel="preload" href="/frontend-blogs/assets/js/app.e628ab38.js" as="script"><link rel="preload" href="/frontend-blogs/assets/js/2.9c8862ee.js" as="script"><link rel="preload" href="/frontend-blogs/assets/js/9.ecd8904a.js" as="script"><link rel="prefetch" href="/frontend-blogs/assets/js/10.c307fcf2.js"><link rel="prefetch" href="/frontend-blogs/assets/js/11.4a8ecf3e.js"><link rel="prefetch" href="/frontend-blogs/assets/js/12.bdcc4791.js"><link rel="prefetch" href="/frontend-blogs/assets/js/13.bb6b48d5.js"><link rel="prefetch" href="/frontend-blogs/assets/js/14.3a1d2e56.js"><link rel="prefetch" href="/frontend-blogs/assets/js/3.b3549bc5.js"><link rel="prefetch" href="/frontend-blogs/assets/js/4.9c0d3927.js"><link rel="prefetch" href="/frontend-blogs/assets/js/5.8fb2962b.js"><link rel="prefetch" href="/frontend-blogs/assets/js/6.7a505dc8.js"><link rel="prefetch" href="/frontend-blogs/assets/js/7.1ebac3c6.js"><link rel="prefetch" href="/frontend-blogs/assets/js/8.7a5d7e5c.js">
    <link rel="stylesheet" href="/frontend-blogs/assets/css/0.styles.09184f4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-blogs/" class="home-link router-link-active"><img src="/frontend-blogs/logo.jpg" alt="youngqluol's blogs" class="logo"> <span class="site-name can-hide">youngqluol's blogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend-blogs/pages/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/frontend-blogs/pages/HTML/" class="nav-link router-link-active">
  HTML
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/frontend-blogs/pages/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/frontend-blogs/pages/HTML/" class="nav-link router-link-active">
  HTML
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>rem布局</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="rem布局"><a href="#rem布局" class="header-anchor">#</a> rem布局</h3> <ul><li><strong>什么是rem</strong></li></ul> <p><code>rem（font size of the root element）</code>是指相对于根元素的字体大小的单位。简单的说它就是一个相对单位。
（例如：如果设置了html{font-size:20px;}，那么1rem=20px）</p> <p><code>em（font size of the element）</code>是指相对于父元素的字体大小的单位。</p> <ul><li><strong>一些概念</strong></li></ul> <ol><li>物理像素：分辨率</li> <li>逻辑像素：css像素（设备独立像素）</li> <li>设备像素比dpr：devicePixelRatio,物理像素分辨率与CSS像素分辨率之比</li></ol> <ul><li><strong>实现思路</strong></li></ul> <ol><li>目标是：<code>设计稿上的值px/100 = rem值</code>。当屏幕宽度大于等于设计稿宽度时，此时根节点的<code>font-size</code>设置为<code>100px</code>。屏幕宽度小于设计稿宽度时，根节点的<code>font-size</code>则按比例（<code>屏幕宽/设计稿宽</code>）减小。</li></ol> <p>（举个例子：在屏幕宽为1080时，将一个元素宽设置为<code>10.8rem</code>，此时元素与屏幕等宽。假设将屏幕缩小至<code>900</code>，此时的根元素<code>font-size</code>等比缩小至<code>900/1080 *100</code>，元素宽变为<code>10.8 * 900/1080 *100 = 900</code>，还是等于屏幕宽）
2. 自动计算font-size
2. 解决浏览器和低端安卓版本的webview缩放</p> <ul><li><strong>具体实现</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
* @param {Number} designWidth 设计稿宽度
*/</span>
<span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token parameter">designWidth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">recalc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 屏幕宽度</span>
        <span class="token keyword">var</span> dpi <span class="token operator">=</span> html<span class="token punctuation">.</span>clientWidth <span class="token operator">&gt;</span> designWidth <span class="token operator">?</span> designWidth <span class="token operator">:</span> html<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        <span class="token comment">// 计算公式： designWidth/dpi = 100/fontSize</span>
        <span class="token keyword">var</span> fontSize <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>dpi <span class="token operator">/</span> designWidth <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        html<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> fontSize <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2.</span>解决浏览器及低端安卓版本的webview缩放 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token keyword">var</span> changedFontSize <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'font-size'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>fontSize <span class="token operator">-</span> changedFontSize<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            html<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> fontSize <span class="token operator">*</span> fontSize <span class="token operator">/</span>changedFontSize <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">recalc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> recalc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 假设设计稿宽度为1080</span>
<span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">1080</span><span class="token punctuation">)</span>
</code></pre></div><p><code>设计稿上的宽度 / 100</code>，就是最终的<code>rem</code>值</p> <p>（假设设计稿有个图片宽度为<code>100px</code>，则书写<code>css</code>时，应设置为<code>1rem</code>）</p> <ul><li><strong>打包后代码</strong>(用于脱敏处理)：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 动态计算<span class="token constant">REM</span>，根据设计稿上的尺寸（像素）除以<span class="token number">100</span>即可得到对应的<span class="token constant">REM</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
      <span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> e<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
          <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> i<span class="token operator">:</span> r<span class="token punctuation">,</span> l<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> t<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> o<span class="token punctuation">,</span> o<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">(</span>n<span class="token punctuation">.</span>m <span class="token operator">=</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>n<span class="token punctuation">.</span>c <span class="token operator">=</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            n<span class="token punctuation">.</span><span class="token function">o</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token operator">||</span>
              Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                configurable<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>
                enumerable<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>
                get<span class="token operator">:</span> r
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> e <span class="token operator">=</span>
              t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>__esModule
                <span class="token operator">?</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> t<span class="token punctuation">.</span>default<span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
                <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> n<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">(</span>n<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">1080</span><span class="token punctuation">;</span>
            <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientWidth <span class="token operator">&lt;</span> n <span class="token operator">?</span> e<span class="token punctuation">.</span>clientWidth <span class="token operator">:</span> n<span class="token punctuation">)</span> <span class="token operator">/</span> n<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
              <span class="token function">o</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>i <span class="token operator">-</span> r<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">*</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">function</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> t <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            t<span class="token punctuation">.</span><span class="token function-variable function">calcRem</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token punctuation">(</span>n <span class="token operator">=</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
      <span class="token function">calcRem</span><span class="token punctuation">(</span><span class="token number">1080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="flexible-js"><a href="#flexible-js" class="header-anchor">#</a> flexible.js</h3> <h5 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h5> <p>我们把设计稿分成10等份，设计稿 A = W/10，我们把设备可视区域也就是我们的各种移动端设备的这个画布也分成10份，并赋值给根元素的fontSize，我们都知道rem是根据根元素字体大小计算的，所以我们的1rem也就是设备可视区域/10，现在设计稿上有一块区域宽B，那它是不是等比放到设备可视区域的宽度为 B/A rem。再啰嗦一下，B在设计稿上占B/A份，那在设备可视区域上也要占B/A份对不对，所以宽是B/A rem。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/18/2021, 7:19:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-blogs/assets/js/app.e628ab38.js" defer></script><script src="/frontend-blogs/assets/js/2.9c8862ee.js" defer></script><script src="/frontend-blogs/assets/js/9.ecd8904a.js" defer></script>
  </body>
</html>
